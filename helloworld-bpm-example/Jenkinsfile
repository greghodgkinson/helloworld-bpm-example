pipeline {

    agent {
    
    	label 'buildconductor-bpm'
    //    docker { 
    //      image 'greghodgkinson/jenkins-buildconductor-bpm'                 
    //    }
    }
    
    stages {     
        
        stage('Build') {
        
       input {
                message "Should we continue?"
                ok "Yes, we should."
                submitter "alice,bob"
                parameters {
                    string(name: 'SNAPSHOT', defaultValue: '', description: 'Please enter the name of the snapshot to build')
                }
            }
        
            steps {
                               
            	sh '/buildconductor/bpm/run-automation-bpm.sh build HW ${SNAPSHOT} Main 10.0.10.166 20005 ghodgkinson ghodgkinson Staging ghodgkinson passw0rd ${BUILD_NUMBER} ${BUILD_URL} ${NODE_NAME}'               
            }
        }
        
        stage('Publish to UCD') {
        	steps {
        	
        	sh "echo Publish to UCD comes next..."               
            }                        	 	
        }
    }
}